const sliders=document.querySelectorAll(".slider"),interval=5500,animDuration=600;let slider,dots,sliderImgs,currImg,prevImg,intrvl,timeout,allDots;for(let e=0;e<sliders.length;++e){dots=(slider=sliders[e]).querySelector(".dots"),sliderImgs=slider.querySelectorAll(".img"),currImg=0,prevImg=sliderImgs.length-1;for(let e=0;e<sliderImgs.length;++e){const t=document.createElement("div");t.classList.add("dot"),dots.appendChild(t),t.addEventListener("click",dotClick.bind(null,e),!1)}function animateSlider(e,t){e||(e=currImg+1<sliderImgs.length?currImg+2:1),--e,sliderImgs[prevImg].style.animationName="",t?(sliderImgs[e].style.animationName="rightNext",sliderImgs[currImg].style.animationName="rightCurr"):(sliderImgs[e].style.animationName="leftNext",sliderImgs[currImg].style.animationName="leftCurr"),prevImg=currImg,currImg=e,currDot=allDots[currImg],currDot.classList.add("active-dot"),prevDot=allDots[prevImg],prevDot.classList.remove("active-dot")}function dotClick(e){if(e==currImg)return!1;clearTimeout(timeout),clearInterval(intrvl),e>currImg?animateSlider(e+1):animateSlider(e+1,!0),intrvl=setInterval(animateSlider,interval)}(allDots=dots.querySelectorAll(".dot"))[0].classList.add("active-dot"),sliderImgs[0].style.left="0",timeout=setTimeout(()=>{animateSlider(),sliderImgs[0].style.left="",intrvl=setInterval(animateSlider,interval)},interval-600)}
